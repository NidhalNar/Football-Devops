<app-header>
</app-header>
<br>
<div class="container">
    <!-- Training sessions section -->
    <section class="management-section">
        <div class="d-flex justify-content-between align-items-center">

            <div>
                <button (click)="order = 'asc'; search()">Ascending date</button>
                <button (click)="order = 'desc'; search()">Descending date</button>
            </div>

            <div>
                <h2>Schedule internships</h2>
            </div>
            <div class="input-group mb-3 " style="width: 200px; ">
                <input type="text" class="form-control" placeholder="Filtrer par Place..." [(ngModel)]="searchTrainingPlace" (ngModelChange)="search()">
                <div class="input-group-append ">
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-between " *ngIf="userDetails.role === 'assistantCoach'">
            <button routerLink="/said"><i class="fas fa-plus "></i></button>
        </div>
        <div class="row ">
            <div class="col-md-4" *ngFor="let stage of (filteredMatches.length > 0 ? sortStagesByDate(order, filteredMatches) : sortStagesByDate(order,matches)) | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage }">
                <div class="card mb-4 ">
                    <div class="card-body ">
                        <img src="assets/images/max.jpg" alt="Training Session 1 Image " style="width:100%; height:110px; max-width: 200px; margin: auto; display: block; margin-bottom: 10px; ">
                        <p class="card-text "><strong> StartDate</strong> : {{ formaterDate(stage.startDate) }}</p>
                        <p class="card-text "><strong> EndDate</strong> : {{ formaterDate(stage.endDate) }}</p>
                        <p class="card-text "><strong>Place</strong> : {{ stage.lieu }} </p>
                        <div class="d-flex justify-content-between align-items-center " style="margin-top: 10px; ">
                            <div class="btn-group " *ngIf="userDetails.role === 'assistantCoach'">
                                <button [routerLink]=" [ '/updates',stage._id] " class="btn btn-sm btn-outline-secondary "><i class="fas fa-edit "></i> Update</button>
                                <button (click)="deletecalander(stage._id) " class="btn btn-sm btn-outline-danger " style="margin-left: 5px; "><i class="fas fa-trash "></i> Delete</button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <pagination-controls (pageChange)="currentPage=$event "></pagination-controls>

    </section>

</div>
<app-footer></app-footer>